(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(45)},33:function(e,t,a){},34:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(25),c=a.n(i),o=(a(33),a(34),a(35),a(15)),r=a(16),s=a(18),m=a(11),u=a(6),d=a(3),h=a.n(d),f=a(7),v=a(1),E=a(2),p=a(9),g=a(8),b=a(10),N=function(e){return l.a.createElement("button",Object.assign({type:"submit"},e,{className:"btn btn-primary"}),"Confirmar")},C=function(e){return l.a.createElement("button",Object.assign({type:"button"},e,{className:"btn btn-danger"}),"Cancelar")},k=function(e){return l.a.createElement("button",Object.assign({type:"button"},e,{className:"btn btn-primary"}),"Novo")},y=function(){function e(t){Object(v.a)(this,e),this.baseUrl=t}return Object(E.a)(e,[{key:"_send",value:function(e,t){return fetch(e,t).then(this.handleRequest)}},{key:"handleRequest",value:function(e){if(!e.ok)throw new Error("Ocorrey um erro ao executar requisi\xe7\xe3o");return e.json()}},{key:"get",value:function(e){return this._send(this.baseUrl+e)}},{key:"delete",value:function(e){return this._send(this.baseUrl+e,{method:"DELETE"})}},{key:"post",value:function(e,t){return this._send(this.baseUrl+e,{method:"POST",body:JSON.stringify(t)})}},{key:"put",value:function(e,t){return this._send(this.baseUrl+e,{method:"PUT",body:JSON.stringify(t)})}}]),e}(),O=function(){function e(){Object(v.a)(this,e)}return Object(E.a)(e,null,[{key:"toBrDate",value:function(t){return"".concat(e._arrumaZero(t.getDate()),"/").concat(e._arrumaZero(t.getMonth()+1),"/").concat(t.getFullYear())}},{key:"_arrumaZero",value:function(e){return e<10?"0"+e:e}},{key:"brDateToEnDate",value:function(e){var t=e.split("/");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0])}}]),e}(),D=function(){function e(t,a,n,l,i,c,o){Object(v.a)(this,e),this._id=t,this._nome=a,this._dtNascimento=n,this._especie=l,this._codEspecie=i,this._codAnimalPai=c,this._codAnimalMae=o}return Object(E.a)(e,[{key:"getId",value:function(){return this._id}},{key:"getNome",value:function(){return this._nome}},{key:"getDataNascimento",value:function(){return O.toBrDate(this._dtNascimento)}},{key:"getEspecie",value:function(){return this._especie}},{key:"getCodEspecie",value:function(){return this._codEspecie}},{key:"getCodPai",value:function(){return this._codAnimalPai}},{key:"getCodMae",value:function(){return this._codAnimalMae}}]),e}(),w="http://localhost:8080/Trabalho_Ban2CrudWeb/api/",j=new(function(){function e(t){Object(v.a)(this,e),this.httpService=t}return Object(E.a)(e,[{key:"buscaTodos",value:function(){return this.httpService.get("animais").then(function(e){return console.log(e),e.map(function(e){return new D(e.codAnimal,e.nomeAnimal,new Date(e.dtNascAnimal),e.especie,e.codEspecie,e.codAnimalPai,e.codAnimalMae)})})}},{key:"deletar",value:function(e){return this.httpService.delete("animais/animal/".concat(e))}},{key:"inserirAnimal",value:function(e){return this.httpService.post("animais/animal",e)}},{key:"atualizarAnimal",value:function(e,t){return this.httpService.put("animais/animal/".concat(e),t)}}]),e}())(new y(w)),A=function(){function e(t,a,n){Object(v.a)(this,e),this._codEspecie=t,this._nomeEspecie=a,this._expectativaEspecie=n}return Object(E.a)(e,[{key:"getId",value:function(){return this._codEspecie}},{key:"getNome",value:function(){return this._nomeEspecie}},{key:"getExpectativaVida",value:function(){return this._expectativaEspecie}}]),e}(),S=new(function(){function e(t){Object(v.a)(this,e),this.httpService=t}return Object(E.a)(e,[{key:"lista",value:function(){return this.httpService.get("especies").then(function(e){return e.map(function(e){return new A(e.codespecie,e.nomeespecie,e.expectativaespecie)})})}},{key:"cadastra",value:function(e){return this.httpService.post("especies/especie",e)}},{key:"atualiza",value:function(e,t){return this.httpService.put("especies/especie/".concat(e),t)}},{key:"deleta",value:function(e){return this.httpService.delete("especies/especie/".concat(e))}}]),e}())(new y(w)),F={NONE:"invisible",ADD:"visible",VIEW:"visible "},x=a(4),M=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={animais:[],especies:[],idAnimal:"",formControls:{nomeAnimal:{value:""},codEspecie:{value:""},codAnimalPai:{value:""},codAnimalMae:{value:""},dtNascAnimal:{value:""}},formMode:F.NONE},a.handleSubmit=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.getAnimalFromForm(),a.state.idAnimal){e.next=7;break}return e.next=5,j.inserirAnimal(n);case 5:e.next=9;break;case 7:return e.next=9,j.atualizarAnimal(a.state.idAnimal,n);case 9:return e.next=11,j.buscaTodos();case 11:l=e.sent,a.setState({animais:l}),a.clearFields(F.NONE);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState({formControls:Object(u.a)({},a.state.formControls,Object(m.a)({},t,Object(u.a)({},a.state.formControls[t],{value:n})))})},a.handleCancelForm=function(e){a.clearFields(F.NONE)},a.handleNewForm=function(e){a.clearFields(F.ADD)},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([j.buscaTodos(),S.lista()]);case 2:t=e.sent,a=Object(s.a)(t,2),n=a[0],l=a[1],console.log("animais",n),this.setState({animais:n,especies:l});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAnimalFromForm",value:function(){return{nomeAnimal:this.state.formControls.nomeAnimal.value,codEspecie:this.state.formControls.codEspecie.value,codAnimalPai:this.state.formControls.codAnimalPai.value||null,codAnimalMae:this.state.formControls.codAnimalMae.value||null,dtNascAnimal:this.state.formControls.dtNascAnimal.value}}},{key:"handleEdit",value:function(e){var t=this.state.animais.find(function(t){return t.getId()==e});this.setState({idAnimal:e,formMode:F.ADD,formControls:{nomeAnimal:{value:t.getNome()},codEspecie:{value:t.getCodEspecie()},codAnimalPai:{value:t.getCodPai()},codAnimalMae:{value:t.getCodMae()},dtNascAnimal:{value:O.brDateToEnDate(t.getDataNascimento())}}})}},{key:"handleDelete",value:function(e){var t=this,a=this.state.animais.filter(function(t){return t.getId()!=e});j.deletar(e).then(function(){return t.setState({animais:a})})}},{key:"clearFields",value:function(e){this.setState({idAnimal:"",formMode:e,formControls:{nomeAnimal:{value:""},codEspecie:{value:""},codAnimalPai:{value:""},codAnimalMae:{value:""},dtNascAnimal:{value:""}}})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row form-group"}),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("h3",null,"Cadastro de Animal:")),l.a.createElement("div",{className:"".concat(this.state.formMode==F.ADD?F.NONE:F.ADD," float-right")},l.a.createElement(k,{onClick:this.handleNewForm}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("table",{className:"table table-bordered table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Nome"),l.a.createElement("th",null,"Esp\xe9cie"),l.a.createElement("th",null,"Data Nascimento"),l.a.createElement("th",null,"Editar/Remover"))),l.a.createElement("tbody",null,this.state.animais.length?this.state.animais.map(function(t){return l.a.createElement("tr",{key:t.getId()},l.a.createElement("td",null,t.getNome()),l.a.createElement("td",null,t.getEspecie()),l.a.createElement("td",null,t.getDataNascimento()),l.a.createElement("td",null,l.a.createElement(x.c,{onClick:e.handleEdit.bind(e,t.getId()),size:24}),l.a.createElement(x.b,{onClick:e.handleDelete.bind(e,t.getId()),size:24})))}):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"4"},"Nenhum animal cadastrado")))))),l.a.createElement("form",{className:this.state.formMode},l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Nome do Animal:"),l.a.createElement("input",{type:"text",name:"nomeAnimal",className:"form-control",value:this.state.formControls.nomeAnimal.value,onChange:this.handleChange})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",null,"Esp\xe9cie:"),l.a.createElement("select",{name:"codEspecie",className:"form-control",onChange:this.handleChange,value:this.state.formControls.codEspecie.value},l.a.createElement("option",{value:""},"Selecione..."),this.state.especies.map(function(e){return l.a.createElement("option",{key:e.getId(),value:e.getId()},e.getNome())})))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",null,"Pai:"),l.a.createElement("select",{name:"codAnimalPai",className:"form-control",onChange:this.handleChange,disabled:!this.state.formControls.codEspecie.value,value:this.state.formControls.codAnimalPai.value},l.a.createElement("option",{value:""},"Selecione..."),this.state.animais.filter(function(t){return t.getCodEspecie()==e.state.formControls.codEspecie.value}).filter(function(t){return t.getId()!=e.state.formControls.codAnimalMae.value}).map(function(e){return l.a.createElement("option",{key:e.getId(),value:e.getId()},e.getNome())}))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",null,"M\xe3e:"),l.a.createElement("select",{name:"codAnimalMae",className:"form-control",onChange:this.handleChange,disabled:!this.state.formControls.codEspecie.value,value:this.state.formControls.codAnimalMae.value},">",l.a.createElement("option",{value:""},"Selecione..."),this.state.animais.filter(function(t){return t.getCodEspecie()==e.state.formControls.codEspecie.value}).filter(function(t){return t.getId()!=e.state.formControls.codAnimalPai.value}).map(function(e){return l.a.createElement("option",{key:e.getId(),value:e.getId()},e.getNome())}))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",null,"Data de Nascimento:"),l.a.createElement("input",{type:"date",value:this.state.formControls.dtNascAnimal.value,name:"dtNascAnimal",className:"form-control",onChange:this.handleChange}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-3 d-flex justify-content-between"},l.a.createElement(N,{onClick:this.handleSubmit}),l.a.createElement(C,{onClick:this.handleCancelForm}))))))}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={formMode:F.NONE,especies:[],idEspecie:"",formControls:{nomeEspecie:{value:""},expectativaVida:{value:""}}},a.handleCancelForm=function(e){a.clearFields(F.NONE)},a.handleChange=function(e){var t=e.target.name,n=e.target.value;"expectativaVida"==t&&(n=n.replace(/[^0-9]/g,"")),a.setState({formControls:Object(u.a)({},a.state.formControls,Object(m.a)({},t,Object(u.a)({},a.state.formControls[t],{value:n})))})},a.handleNewForm=function(e){a.clearFields(F.ADD)},a.handleSubmit=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.getFormEspecie(),a.state.idEspecie){e.next=7;break}return e.next=5,S.cadastra(n);case 5:e.next=9;break;case 7:return e.next=9,S.atualiza(a.state.idEspecie,n);case 9:return e.next=11,S.lista();case 11:l=e.sent,a.setState({especies:l}),a.clearFields(F.NONE);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.lista();case 2:t=e.sent,this.setState({especies:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleEdit",value:function(e){var t=this.state.especies.find(function(t){return t.getId()==e});this.setState({idEspecie:e,formMode:F.ADD,formControls:{nomeEspecie:{value:t.getNome()},expectativaVida:{value:t.getExpectativaVida()}}})}},{key:"handleDelete",value:function(e){var t=this,a=this.state.especies.filter(function(t){return t.getId()!=e});S.deleta(e).then(function(){return t.setState({especies:a})})}},{key:"getFormEspecie",value:function(){return{nomeespecie:this.state.formControls.nomeEspecie.value,expectativaespecie:this.state.formControls.expectativaVida.value}}},{key:"clearFields",value:function(e){this.setState({formMode:e,formControls:{nomeEspecie:{value:""},expectativaVida:{value:""}}})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row form-group"}),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("h3",null,"Cadastro de Esp\xe9cie:")),l.a.createElement("div",{className:"".concat(this.state.formMode==F.ADD?F.NONE:F.ADD," float-right")},l.a.createElement(k,{onClick:this.handleNewForm}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("table",{className:"table table-bordered table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Esp\xe9cie"),l.a.createElement("th",null,"Expectativa de Vida"),l.a.createElement("th",null,"Editar/Remover"))),l.a.createElement("tbody",null,this.state.especies.length?this.state.especies.map(function(t){return l.a.createElement("tr",{key:t.getId()},l.a.createElement("td",null,t.getNome()),l.a.createElement("td",null,t.getExpectativaVida()),l.a.createElement("td",null,l.a.createElement(x.c,{onClick:e.handleEdit.bind(e,t.getId()),size:24}),l.a.createElement(x.b,{onClick:e.handleDelete.bind(e,t.getId()),size:24})))}):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"4"},"Nenhuma esp\xe9cie cadastrada")))))),l.a.createElement("form",{className:this.state.formMode},l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Nome da Esp\xe9cie:"),l.a.createElement("input",{type:"text",name:"nomeEspecie",className:"form-control",value:this.state.formControls.nomeEspecie.value,onChange:this.handleChange})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",null,"Expectativa de Vida:"),l.a.createElement("input",{type:"text",name:"expectativaVida",className:"form-control",value:this.state.formControls.expectativaVida.value,onChange:this.handleChange}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-3 d-flex justify-content-between"},l.a.createElement(N,{onClick:this.handleSubmit}),l.a.createElement(C,{onClick:this.handleCancelForm}))))))}}]),t}(n.Component),I=function(){function e(t,a,n,l,i,c,o,r){Object(v.a)(this,e),this._id=t,this._idAnimal=a,this._nomeAnimal=n,this._idFuncionario=l,this._nomeFuncionario=i,this._data=c,this._diagnostico=o,this._medicamentos=r}return Object(E.a)(e,[{key:"getId",value:function(){return this._id}},{key:"getIdAnimal",value:function(){return this._idAnimal}},{key:"getNomeAnimal",value:function(){return this._nomeAnimal}},{key:"getNomeFuncionario",value:function(){return this._nomeFuncionario}},{key:"getIdFuncionario",value:function(){return this._idFuncionario}},{key:"getData",value:function(){return O.toBrDate(this._data)}},{key:"getDiagnostico",value:function(){return this._diagnostico}},{key:"getMedicamentos",value:function(){return this._medicamentos}}]),e}(),z=new(function(){function e(t){Object(v.a)(this,e),this.httpService=t}return Object(E.a)(e,[{key:"lista",value:function(){return this.httpService.get("consultas").then(function(e){return e.map(function(e){return new I(e.codconsulta,e.codanimal,e.nomeanimal,e.matricula,e.nomefuncionario,new Date(e.data),e.diagnosticoconsulta,e.medicamentos)})})}},{key:"cadastra",value:function(e){return this.httpService.post("consultas/consulta",e)}},{key:"atualiza",value:function(e,t){return this.httpService.put("consultas/consulta/".concat(e),t)}},{key:"deleta",value:function(e){return this.httpService.delete("consultas/consulta/".concat(e))}}]),e}())(new y(w)),P=function(){function e(t,a,n,l,i,c){Object(v.a)(this,e),this._id=t,this._nome=a,this._endereco=n,this._email=l,this._crmv=i,this._especialidade=c}return Object(E.a)(e,[{key:"getId",value:function(){return this._id}},{key:"getNome",value:function(){return this._nome}},{key:"getEndereco",value:function(){return this._endereco}},{key:"getEmail",value:function(){return this._email}},{key:"getCrmv",value:function(){return this._crmv}},{key:"getEspecialidade",value:function(){return this._especialidade}}]),e}(),V=new(function(){function e(t){Object(v.a)(this,e),this.httpService=t}return Object(E.a)(e,[{key:"lista",value:function(){return this.httpService.get("funcionarios").then(function(e){return e.map(function(e){return new P(e.matricula||"",e.nome||"",e.endereco||"",e.email||"",e.crmv||"",e.especialidade||"")})})}},{key:"cadastra",value:function(e){return this.httpService.post("funcionarios/funcionario",e)}},{key:"atualiza",value:function(e,t){return this.httpService.put("funcionarios/funcionario/".concat(e),t)}},{key:"deleta",value:function(e){return this.httpService.delete("funcionarios/funcionario/".concat(e))}}]),e}())(new y(w)),T=function(){function e(t,a){Object(v.a)(this,e),this._id=t,this._nome=a}return Object(E.a)(e,[{key:"getId",value:function(){return this._id}},{key:"getNome",value:function(){return this._nome}}]),e}(),R=new(function(){function e(t){Object(v.a)(this,e),this.httpService=t}return Object(E.a)(e,[{key:"lista",value:function(){return this.httpService.get("medicamentos").then(function(e){return e.map(function(e){return new T(e.codmedicamento,e.nomemedicamento)})})}},{key:"cadastra",value:function(e){return this.httpService.post("medicamentos/medicamento",e)}},{key:"atualiza",value:function(e,t){return this.httpService.put("medicamentos/medicamento/".concat(e),t)}},{key:"deleta",value:function(e){return this.httpService.delete("medicamentos/medicamento/".concat(e))}}]),e}())(new y(w)),B=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={formMode:F.NONE,consultas:[],medicamentos:[],medicamentosEscolhidos:[],idConsulta:"",formControls:{animal:{value:""},funcionario:{value:""},dtConsulta:{value:""},diagnostico:{value:""}},animais:[],funcionarios:[]},a.handleChange=function(e){var t=e.target.name,n=e.target.value;console.log(n.length),a.setState({formControls:Object(u.a)({},a.state.formControls,Object(m.a)({},t,Object(u.a)({},a.state.formControls[t],{value:n})))})},a.handleSubmit=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.getConsultaFromForm(),a.state.idConsulta){e.next=7;break}return e.next=5,z.cadastra(n);case 5:e.next=9;break;case 7:return e.next=9,z.atualiza(a.state.idConsulta,n);case 9:return e.next=11,z.lista();case 11:l=e.sent,a.setState({consultas:l}),a.clearFields(F.NONE);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleCancelForm=function(e){a.clearFields(F.NONE)},a.handleNewForm=function(e){a.clearFields(F.ADD)},a.addMedicamento=function(e){a.setState({medicamentosEscolhidos:a.state.medicamentosEscolhidos.concat({codmedicamento:""})})},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,l,i,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.lista();case 2:return t=e.sent,this.setState({consultas:t}),e.next=6,Promise.all([j.buscaTodos(),V.lista(),R.lista()]);case 6:a=e.sent,n=Object(s.a)(a,3),l=n[0],i=n[1],c=n[2],this.setState({animais:l,funcionarios:i,medicamentos:c});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleView",value:function(e){var t=this.state.consultas.find(function(t){return t.getId()==e});console.log(t),this.setState({idConsulta:"",formMode:F.VIEW,medicamentosEscolhidos:t.getMedicamentos()})}},{key:"handleEdit",value:function(e){var t=this.state.consultas.find(function(t){return t.getId()==e});console.log(t),this.setState({idConsulta:e,formMode:F.ADD,medicamentosEscolhidos:JSON.parse(JSON.stringify(t.getMedicamentos())),formControls:{animal:{value:t.getIdAnimal()},funcionario:{value:t.getIdFuncionario()},dtConsulta:{value:O.brDateToEnDate(t.getData())},diagnostico:{value:t.getDiagnostico()}}})}},{key:"getConsultaFromForm",value:function(){return{codanimal:this.state.formControls.animal.value,matricula:this.state.formControls.funcionario.value,data:this.state.formControls.dtConsulta.value,diagnosticoconsulta:this.state.formControls.diagnostico.value,medicamentos:this.state.medicamentosEscolhidos}}},{key:"handleDelete",value:function(e){var t=this,a=this.state.consultas.filter(function(t){return t.getId()!=e});z.deleta(e).then(function(){t.setState({consultas:a}),t.clearFields(F.NONE)})}},{key:"removeMedicamento",value:function(e){var t=this.state.medicamentosEscolhidos.filter(function(t,a){return a!=e});this.setState({medicamentosEscolhidos:t})}},{key:"handleChangePrescricao",value:function(e){var t=this;this.setState({medicamentosEscolhidos:this.state.medicamentosEscolhidos.map(function(a,n){return n==e&&(a.codmedicamento=t.refs["medicamento___".concat(e)].value),a})})}},{key:"clearFields",value:function(e){this.setState({formMode:e,idConsulta:"",medicamentosEscolhidos:[],formControls:{animal:{value:""},funcionario:{value:""},dtConsulta:{value:""},diagnostico:{value:""}}})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row form-group"}),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("h3",null,"Realizar Consulta:")),l.a.createElement("div",{className:"".concat(this.state.formMode==F.ADD?F.NONE:F.ADD," float-right")},l.a.createElement(k,{onClick:this.handleNewForm}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("table",{className:"table table-bordered table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Animal"),l.a.createElement("th",null,"Funcion\xe1rio"),l.a.createElement("th",null,"Data da Consulta"),l.a.createElement("th",null,"Diagn\xf3stico"),l.a.createElement("th",null,"Editar/Remover"))),l.a.createElement("tbody",null,this.state.consultas.length?this.state.consultas.map(function(t){return l.a.createElement("tr",{key:t.getId()},l.a.createElement("td",null,t.getNomeAnimal()),l.a.createElement("td",null,t.getNomeFuncionario()),l.a.createElement("td",null,t.getData()," ",l.a.createElement(x.d,{size:24,onClick:e.handleView.bind(e,t.getId())})),l.a.createElement("td",null,t.getDiagnostico()),l.a.createElement("td",null,l.a.createElement(x.c,{onClick:e.handleEdit.bind(e,t.getId()),size:24}),l.a.createElement(x.b,{onClick:e.handleDelete.bind(e,t.getId()),size:24})))}):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"5"},"Nenhuma consulta cadastrada")))))),l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"".concat(this.state.idConsulta||this.state.formMode==F.ADD?F.ADD:F.NONE," col-md-6")},l.a.createElement("div",{class:"row form-group"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Nome do Animal:"),l.a.createElement("select",{className:"form-control",name:"animal",value:this.state.formControls.animal.value,onChange:this.handleChange},l.a.createElement("option",null,"Selecione..."),this.state.animais.map(function(e){return l.a.createElement("option",{value:e.getId()},e.getNome())}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Nome do Funcion\xe1rio:"),l.a.createElement("select",{className:"form-control",name:"funcionario",value:this.state.formControls.funcionario.value,onChange:this.handleChange},l.a.createElement("option",null,"Selecione..."),this.state.funcionarios.map(function(e){return l.a.createElement("option",{value:e.getId()},e.getNome())})))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Data da Consulta:"),l.a.createElement("input",{type:"date",className:"form-control",name:"dtConsulta",value:this.state.formControls.dtConsulta.value,onChange:this.handleChange}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Diagn\xf3stico:"),l.a.createElement("textarea",{name:"diagnostico",onChange:this.handleChange,value:this.state.formControls.diagnostico.value,className:"form-control"})))),l.a.createElement("div",{className:"".concat(this.state.idConsulta||this.state.formMode!=F.NONE?F.ADD:F.NONE," col-md-6")},l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Medicamentos"),l.a.createElement("th",null,l.a.createElement(x.a,{className:this.state.idConsulta||this.state.formMode==F.ADD?F.ADD:F.NONE,onClick:this.addMedicamento,size:30})))),l.a.createElement("tbody",null,this.state.medicamentosEscolhidos.length?this.state.medicamentosEscolhidos.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("select",{disabled:e.state.formMode!=F.ADD,ref:"medicamento___".concat(a),className:"form-control",value:t.codmedicamento,onChange:e.handleChangePrescricao.bind(e,a)},l.a.createElement("option",null,"Selecione..."),e.state.medicamentos.map(function(e){return l.a.createElement("option",{value:e.getId()},e.getNome())}))),l.a.createElement("td",null,l.a.createElement(x.b,{className:e.state.idConsulta||e.state.formMode==F.ADD?F.ADD:F.NONE,onClick:e.removeMedicamento.bind(e,a),size:24})))}):l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},"Nenhum medicamento prescrito")))))),l.a.createElement("div",{className:"".concat(this.state.idConsulta||this.state.formMode==F.ADD?F.ADD:F.NONE," row form-group")},l.a.createElement("div",{className:"col-md-3 d-flex justify-content-between"},l.a.createElement(N,{onClick:this.handleSubmit}),l.a.createElement(C,{onClick:this.handleCancelForm}))))))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={funcionarios:[],idFuncionario:"",formMode:F.NONE,formControls:{nomeFuncionario:{value:""},endereco:{value:""},email:{value:""},crmv:{value:""},especialidade:{value:""}}},a.handleCancelForm=function(e){a.clearFields(F.NONE)},a.handleChange=function(e){var t=e.target.name,n=e.target.value;"crmv"==t&&(n=n.replace(/[^0-9]/g,"")),a.setState({formControls:Object(u.a)({},a.state.formControls,Object(m.a)({},t,Object(u.a)({},a.state.formControls[t],{value:n})))})},a.handleNewForm=function(e){a.clearFields(F.ADD)},a.handleSubmit=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.getFormFuncionario(),a.state.idFuncionario){e.next=7;break}return e.next=5,V.cadastra(n);case 5:e.next=9;break;case 7:return e.next=9,V.atualiza(a.state.idFuncionario,n);case 9:return e.next=11,V.lista();case 11:l=e.sent,a.setState({funcionarios:l}),a.clearFields(F.NONE);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.lista();case 2:t=e.sent,this.setState({funcionarios:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleEdit",value:function(e){var t=this.state.funcionarios.find(function(t){return t.getId()==e});this.setState({idFuncionario:e,formMode:F.ADD,formControls:{nomeFuncionario:{value:t.getNome()},endereco:{value:t.getEndereco()},email:{value:t.getEmail()},crmv:{value:t.getCrmv()},especialidade:{value:t.getEspecialidade()}}})}},{key:"handleDelete",value:function(e){var t=this,a=this.state.funcionarios.filter(function(t){return t.getId()!=e});V.deleta(e).then(function(){return t.setState({funcionarios:a})})}},{key:"getFormFuncionario",value:function(){return{nome:this.state.formControls.nomeFuncionario.value,endereco:this.state.formControls.endereco.value,email:this.state.formControls.email.value,crmv:this.state.formControls.crmv.value,especialidade:this.state.formControls.especialidade.value}}},{key:"clearFields",value:function(e){this.setState({formMode:e,formControls:{nomeFuncionario:{value:""},endereco:{value:""},email:{value:""},crmv:{value:""},especialidade:{value:""}}})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row form-group"}),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("h3",null,"Cadastrar Funcion\xe1rio:")),l.a.createElement("div",{className:"".concat(this.state.formMode==F.ADD?F.NONE:F.ADD," float-right")},l.a.createElement(k,{onClick:this.handleNewForm}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("table",{className:"table table-bordered table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Nome"),l.a.createElement("th",null,"Endere\xe7o"),l.a.createElement("th",null,"E-mail"),l.a.createElement("th",null,"CRMV"),l.a.createElement("th",null,"Especialidade"),l.a.createElement("th",null,"Editar/Remover"))),l.a.createElement("tbody",null,this.state.funcionarios.length?this.state.funcionarios.map(function(t){return l.a.createElement("tr",{key:t.getId()},l.a.createElement("td",null,t.getNome()),l.a.createElement("td",null,t.getEndereco()),l.a.createElement("td",null,t.getEmail()),l.a.createElement("td",null,t.getCrmv()),l.a.createElement("td",null,t.getEspecialidade()),l.a.createElement("td",null,l.a.createElement(x.c,{onClick:e.handleEdit.bind(e,t.getId()),size:24}),l.a.createElement(x.b,{onClick:e.handleDelete.bind(e,t.getId()),size:24})))}):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"6"},"Nenhum funcion\xe1rio cadastrado")))))),l.a.createElement("form",{className:this.state.formMode},l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Nome do Funcion\xe1rio:"),l.a.createElement("input",{type:"text",className:"form-control",name:"nomeFuncionario",value:this.state.formControls.nomeFuncionario.value,onChange:this.handleChange})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Endere\xe7o:"),l.a.createElement("input",{type:"text",className:"form-control",name:"endereco",value:this.state.formControls.endereco.value,onChange:this.handleChange}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",null,"Email:"),l.a.createElement("input",{type:"text",className:"form-control",name:"email",value:this.state.formControls.email.value,onChange:this.handleChange})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",null,"CRMV:"),l.a.createElement("input",{type:"text",className:"form-control",name:"crmv",value:this.state.formControls.crmv.value,onChange:this.handleChange})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",null,"Especialidade:"),l.a.createElement("input",{type:"text",className:"form-control",name:"especialidade",value:this.state.formControls.especialidade.value,onChange:this.handleChange}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-3 d-flex justify-content-between"},l.a.createElement(N,{onClick:this.handleSubmit}),l.a.createElement(C,{onClick:this.handleCancelForm}))))))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={formMode:F.NONE,medicamentos:[],idMedicamento:"",formControls:{nomemedicamento:{value:""}}},a.handleCancelForm=function(e){a.clearFields(F.NONE)},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState({formControls:Object(u.a)({},a.state.formControls,Object(m.a)({},t,Object(u.a)({},a.state.formControls[t],{value:n})))})},a.handleNewForm=function(e){a.clearFields(F.ADD)},a.handleSubmit=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.getFormMedicamento(),a.state.idMedicamento){e.next=7;break}return e.next=5,R.cadastra(n);case 5:e.next=9;break;case 7:return e.next=9,R.atualiza(a.state.idMedicamento,n);case 9:return e.next=11,R.lista();case 11:l=e.sent,a.setState({medicamentos:l}),a.clearFields(F.NONE);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.lista();case 2:t=e.sent,this.setState({medicamentos:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleEdit",value:function(e){var t=this.state.medicamentos.find(function(t){return t.getId()==e});this.setState({idMedicamento:e,formMode:F.ADD,formControls:{nomemedicamento:{value:t.getNome()}}})}},{key:"handleDelete",value:function(e){var t=this,a=this.state.medicamentos.filter(function(t){return t.getId()!=e});R.deleta(e).then(function(){return t.setState({medicamentos:a})})}},{key:"getFormMedicamento",value:function(){return{nomemedicamento:this.state.formControls.nomemedicamento.value}}},{key:"clearFields",value:function(e){this.setState({formMode:e,formControls:{nomemedicamento:{value:""}}})}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row form-group"}),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("h3",null,"Cadastro de Medicamentos:")),l.a.createElement("div",{className:"".concat(this.state.formMode==F.ADD?F.NONE:F.ADD," float-right")},l.a.createElement(k,{onClick:this.handleNewForm}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("table",{className:"table table-bordered table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Medicamento"),l.a.createElement("th",null,"Editar/Remover"))),l.a.createElement("tbody",null,this.state.medicamentos.length?this.state.medicamentos.map(function(t){return l.a.createElement("tr",{key:t.getId()},l.a.createElement("td",null,t.getNome()),l.a.createElement("td",null,l.a.createElement(x.c,{onClick:e.handleEdit.bind(e,t.getId()),size:24}),l.a.createElement(x.b,{onClick:e.handleDelete.bind(e,t.getId()),size:24})))}):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},"Nenhum medicamento cadastrado")))))),l.a.createElement("form",{className:this.state.formMode},l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Nome do Medicamento:"),l.a.createElement("input",{type:"text",name:"nomemedicamento",className:"form-control",value:this.state.formControls.nomemedicamento.value,onChange:this.handleChange}))),l.a.createElement("div",{className:"row form-group"},l.a.createElement("div",{className:"col-md-3 d-flex justify-content-between"},l.a.createElement(N,{onClick:this.handleSubmit}),l.a.createElement(C,{onClick:this.handleCancelForm}))))))}}]),t}(n.Component),W=function(e){function t(){return Object(v.a)(this,t),Object(p.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center"},l.a.createElement("h2",null,"Bem vindo ao sistema do Zool\xf3gico")))}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={pageChecked:"/"+window.location.pathname.split("/").pop()},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"handleClick",value:function(e){this.setState({pageChecked:e})}},{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/",className:"".concat("/"===this.state.pageChecked?"active":""," nav-link"),onClick:this.handleClick.bind(this,"/")},"Home")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/animais",className:"".concat("/animais"===this.state.pageChecked?"active":""," nav-link"),onClick:this.handleClick.bind(this,"/animais")},"Animais")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/consultas",className:"".concat("/consultas"===this.state.pageChecked?"active":""," nav-link"),onClick:this.handleClick.bind(this,"/consultas")},"Consultas")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/especies",className:"".concat("/especies"===this.state.pageChecked?"active":""," nav-link"),onClick:this.handleClick.bind(this,"/especies")},"Esp\xe9cies")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/funcionarios",className:"".concat("/funcionarios"===this.state.pageChecked?"active":""," nav-link"),onClick:this.handleClick.bind(this,"/funcionarios")},"Funcion\xe1rios")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/medicamentos",className:"".concat("/medicamentos"===this.state.pageChecked?"active":""," nav-link"),onClick:this.handleClick.bind(this,"/medicamentos")},"Medicamentos")))))}}]),t}(n.Component),q=function(){return l.a.createElement(o.a,{basename:"/Trabalho_Ban2CrudWeb"},l.a.createElement(Z,null),l.a.createElement(r.c,null,l.a.createElement(r.a,{path:"/",exact:!0,component:W}),l.a.createElement(r.a,{path:"/animais",component:M}),l.a.createElement(r.a,{path:"/especies",component:_}),l.a.createElement(r.a,{path:"/consultas",component:B}),l.a.createElement(r.a,{path:"/funcionarios",component:J}),l.a.createElement(r.a,{path:"/medicamentos",component:U})))},H=function(){return l.a.createElement(q,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.7985d784.chunk.js.map